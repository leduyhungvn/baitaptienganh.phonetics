<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E6789 GS NG·ªÆ √ÇM</title>
    <style>
        /* --- C√ÄI ƒê·∫∂T C∆† B·∫¢N & TƒÇNG K√çCH TH∆Ø·ªöC TO√ÄN B·ªò --- */
        body {
            font-family: Arial, sans-serif;
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            font-size: 18px;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* C√°c khung m√†n h√¨nh ch√≠nh */
        .login-screen, .quiz-screen, .result-screen, .contact-screen {
            width: 100%;
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            box-sizing: border-box;
        }

        /* Input, Button, Select tƒÉng k√≠ch th∆∞·ªõc */
        input, button, select {
            width: 100%;
            padding: 16px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 20px;
            box-sizing: border-box;
        }

        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        button:hover {
            background-color: #45a049;
        }
        button:active {
            transform: scale(0.98);
        }

        /* --- QUIZ SCREEN (ƒê√É ƒêI·ªÄU CH·ªàNH THEO Y√äU C·∫¶U) --- */

        /* 1. Thanh th·ªùi gian: Gi·∫£m 30% chi·ªÅu cao (t·ª´ 25px xu·ªëng 17.5px) */
        .timer-container {
            width: 100%;
            background-color: #f1f1f1;
            border-radius: 8px;
            margin-bottom: 25px;
            height: 17.5px; 
        }
        .timer-bar {
            height: 100%;
            background-color: #FFD700;
            border-radius: 8px;
            width: 100%;
            transition: width 0.1s linear;
        }

        /* 2. HEADER INFO: Gi·∫£m 20% chi·ªÅu cao khung v√† gi·∫£m 20% ch·ªØ */
        .quiz-header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            /* Gi·∫£m margin-bottom ƒë·ªÉ gi·∫£m chi·ªÅu cao t·ªïng th·ªÉ c·ªßa khung */
            margin-bottom: 10px; 
            font-size: 18px; /* Gi·∫£m t·ª´ 22px xu·ªëng ~18px */
            font-weight: bold;
            background-color: transparent;
            border: none;
            border-radius: 0;
            padding: 2px 0; /* Gi·∫£m padding ƒë·ªÉ khung g·ªçn l·∫°i */
        }
        .quiz-info-left {
            color: #2c3e50;
        }
        .quiz-info-right {
            color: #e67e22;
        }

        /* 3. Ti√™u ƒë·ªÅ c√¢u h·ªèi: Gi·∫£m 20% chi·ªÅu cao khung v√† ch·ªØ */
        .question {
            font-size: 19px; /* Gi·∫£m t·ª´ 24px xu·ªëng ~19px */
            font-weight: bold;
            margin-bottom: 10px; /* Gi·∫£m margin-bottom t·ª´ 20px */
            text-align: center;
            color: #2c3e50;
        }

        /* 4. V√πng hi·ªÉn th·ªã t·ª´ v·ª±ng: Gi·∫£m 20% k√≠ch th∆∞·ªõc ch·ªØ trong √¥ */
        .word-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0; /* Gi·∫£m nh·∫π margin */
            padding: 20px;
            background: #fdfdfd;
            border: 1px dashed #ccc;
            border-radius: 10px;
        }
        .word {
            font-size: 26px; /* Gi·∫£m t·ª´ 32px xu·ªëng ~26px */
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            line-height: 1.4;
        }

        /* 5. C√°c l·ª±a ch·ªçn: TƒÉng 20% k√≠ch th∆∞·ªõc ch·ªØ */
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .option {
            padding: 18px;
            margin: 0;
            background-color: #f9f9f9;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            text-align: left;
            font-size: 24px; /* TƒÉng t·ª´ 20px l√™n 24px */
            transition: all 0.2s ease;
        }
        .option:hover {
            background-color: #e9e9e9;
            transform: translateX(5px);
            border-color: #bbb;
        }

        /* C√°c class tr·∫°ng th√°i */
        .correct {
            background-color: #4CAF50 !important;
            color: white !important;
            border-color: #4CAF50 !important;
        }
        .incorrect {
            background-color: #f44336 !important;
            color: white !important;
            border-color: #f44336 !important;
        }
        .hidden {
            display: none !important;
        }

        /* --- RESULT SCREEN --- */
        
        .result-summary-container {
            display: flex;
            flex-direction: row; 
            gap: 30px;
            margin-bottom: 40px;
            width: 100%;
        }

        .chart-section {
            flex: 1;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 12px rgba(0,0,0,0.08);
        }

        .result-name-new {
            color: #006d75; 
            font-weight: 900;
            font-size: 44px;
            margin-bottom: 25px;
            text-align: center;
            letter-spacing: 1px;
            line-height: 1.2;
        }

        .chart-wrapper {
            position: relative;
            width: 220px;
            height: 220px;
            margin-bottom: 20px;
        }

        .pie-chart {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(#ddd 0% 100%);
            position: relative;
            transition: background 1s ease-out;
        }

        .pie-chart::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70%;
            height: 70%;
            background-color: white;
            border-radius: 50%;
        }

        .chart-text-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            width: 100%;
            height: 100%;
            z-index: 2;
        }

        .percentage-text {
            font-size: 36px;
            font-weight: 900;
            display: block;
            line-height: 1;
            margin-bottom: 5px;
        }

        .score-text {
            font-size: 18px;
            font-weight: bold;
            display: block;
            margin-top: 0;
            color: #333;
        }

        .date-text {
            margin-top: 20px;
            font-weight: bold;
            color: #003a8c; 
            font-size: 16px;
            text-align: center;
        }

        .stats-grid-container {
            flex: 1;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 20px;
            width: 100%;
        }

        .stat-item {
            background-color: #f0f5ff;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .stat-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
            text-transform: uppercase;
            font-weight: bold;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 900;
            color: #333;
        }

        /* M√†u s·∫Øc ri√™ng cho t·ª´ng √¥ th·ªëng k√™ */
        .stat-item.start .stat-value { color: #d46b08; } 
        .stat-item.end .stat-value { color: #cf1322; } 
        .stat-item.streak .stat-value { color: #d4380d; } 
        .stat-item.time .stat-value { color: #096dd9; } 

        .details-section {
            width: 100%;
            margin-top: 30px;
        }
        .section-title {
            font-weight: bold;
            font-size: 22px;
            margin-bottom: 15px;
            border-bottom: 3px solid #eee;
            padding-bottom: 10px;
            color: #2c3e50;
        }

        .wrong-questions-list {
            margin-top: 10px;
            padding-left: 25px;
            font-size: 18px;
        }

        .answer-history {
            margin-top: 20px;
            width: 100%;
            border-collapse: collapse;
            font-size: 16px;
        }
        .answer-history th, .answer-history td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
            word-wrap: break-word;
        }
        .answer-history th {
            background-color: #f2f2f2;
            font-size: 18px;
            color: #333;
        }
        .answer-history tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 20px;
        }
        
        .screen-title {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
            font-size: 32px;
            font-weight: 900;
            line-height: 1.3;
        }

        .contact-info {
            margin-bottom: 25px;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #eee;
        }
        .contact-info h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 24px;
        }
        .contact-info p {
            margin: 8px 0;
            padding-left: 20px;
            font-size: 18px;
        }
        .contact-btn {
            background-color: #2196F3;
            margin-top: 15px;
        }
        .contact-btn:hover {
            background-color: #0b7dda;
        }
        .back-btn {
            background-color: #607d8b;
        }
        .back-btn:hover {
            background-color: #455a64;
        }

        .option-text {
            color: black;
        }
        .underlined-red {
            text-decoration: underline;
            color: red;
        }
        .correct-answer { color: green; font-weight: bold; font-size: 18px; }
        .incorrect-answer { color: red; font-weight: bold; font-size: 18px; }
        .timeout-answer { color: orange; font-weight: bold; font-size: 18px; }


        /* --- RESPONSIVE (ƒêI·ªÄU CH·ªàNH L·∫†I CHO MOBILE) --- */
        @media (max-width: 900px) {
            /* Giao di·ªán b√°o c√°o mobile: G·ªçn g√†ng trong 1 m√†n h√¨nh */
            .result-summary-container {
                flex-direction: column;
                gap: 15px; /* Gi·∫£m kho·∫£ng c√°ch gi·ªØa 2 √¥ l·ªõn */
                margin-bottom: 20px;
            }
            
            /* Gi·∫£m padding b√™n trong c√°c √¥ ƒë·ªÉ ti·∫øt ki·ªám kh√¥ng gian */
            .chart-section, .stats-grid-container {
                padding: 15px; 
            }

            .result-name-new {
                font-size: 24px; /* Gi·∫£m size t√™n */
                margin-bottom: 10px; /* Gi·∫£m kho·∫£ng c√°ch */
            }
            
            /* Gi·∫£m k√≠ch th∆∞·ªõc bi·ªÉu ƒë·ªì tr√≤n */
            .chart-wrapper {
                width: 150px;
                height: 150px;
                margin-bottom: 10px;
            }
            
            .percentage-text {
                font-size: 26px;
            }
            
            .score-text {
                font-size: 14px;
            }
            
            .date-text {
                margin-top: 10px;
                font-size: 14px;
            }

            /* Gi·∫£m k√≠ch th∆∞·ªõc l∆∞·ªõi th·ªëng k√™ */
            .stats-grid {
                gap: 10px;
            }

            .stat-item {
                padding: 10px;
            }

            .stat-icon {
                font-size: 24px;
                margin-bottom: 5px;
            }
            
            .stat-label {
                font-size: 11px;
                margin-bottom: 4px;
            }

            .stat-value {
                font-size: 16px;
            }

            /* ƒêi·ªÅu ch·ªânh giao di·ªán Quiz cho mobile (n·∫øu c·∫ßn th√™m tinh ch·ªânh) */
            .question {
                font-size: 16px;
            }
            .word {
                font-size: 22px;
            }
            .option {
                font-size: 18px;
                padding: 12px;
            }
            .screen-title {
                font-size: 22px;
            }
            
            /* Gi·∫£m thanh th·ªùi gian th√™m ch√∫t cho mobile n·∫øu c·∫ßn */
            .timer-container {
                height: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Screen -->
        <div id="login-screen" class="login-screen">
            <h2 class="screen-title">E6789 GS NG·ªÆ √ÇM</h2>
            
            <div class="form-group">
                <label for="username">Nh·∫≠p t√™n c·ªßa b·∫°n:</label>
                <input type="text" id="username" placeholder="T√™n c·ªßa b·∫°n">
            </div>
            <div class="form-group">
                <label for="unit-select">Ch·ªçn UNIT:</label>
                <select id="unit-select">
                    <option value="UNIT 1">UNIT 1: E6789 GS NG·ªÆ √ÇM ƒêU√îI S ES</option>
                    <option value="UNIT 2">UNIT 2: E6789 GS NG·ªÆ √ÇM ƒêU√îI ED</option>
                    <option value="UNIT 3">UNIT 3: E6789 GS NG·ªÆ √ÇM GK1 E6</option>
                    <option value="UNIT 4">UNIT 4: E6789 GS NG·ªÆ √ÇM HK1 E6</option>
                    <option value="UNIT 5">UNIT 5: E6789 GS NG·ªÆ √ÇM GK2 E6</option>
                    <option value="UNIT 6">UNIT 6: E6789 GS NG·ªÆ √ÇM HK2 E6</option>
                    <option value="UNIT 7">UNIT 7: E6789 GS NG·ªÆ √ÇM GK1 E7</option>
                    <option value="UNIT 8">UNIT 8: E6789 GS NG·ªÆ √ÇM HK1 E7</option>
                    <option value="UNIT 9">UNIT 9: E6789 GS NG·ªÆ √ÇM GK2 E7</option>
                    <option value="UNIT 10">UNIT 10: E6789 GS NG·ªÆ √ÇM HK2 E7</option>
                    <option value="UNIT 11">UNIT 11: E6789 GS NG·ªÆ √ÇM GK1 E8</option>
                    <option value="UNIT 12">UNIT 12: E6789 GS NG·ªÆ √ÇM HK1 E8</option>
                    <option value="UNIT 13">UNIT 13: E6789 GS NG·ªÆ √ÇM GK2 E8</option>
                    <option value="UNIT 14">UNIT 14: E6789 GS NG·ªÆ √ÇM HK2 E8</option>
                    <option value="UNIT 15">UNIT 15: E6789 GS NG·ªÆ √ÇM GK1 E9</option>
                    <option value="UNIT 16">UNIT 16: E6789 GS NG·ªÆ √ÇM HK1 E9</option>
                    <option value="UNIT 17">UNIT 17: E6789 GS NG·ªÆ √ÇM GK2 E9</option>
                    <option value="UNIT 18">UNIT 18: E6789 GS NG·ªÆ √ÇM HK2 E9</option>
                    <option value="UNIT 19">UNIT 19: E6789 GS NG·ªÆ √ÇM E5 TS6</option>
                    <option value="UNIT 20">UNIT 20: E6789 GS NG·ªÆ √ÇM E9 TS10</option>
                </select>
            </div>
            <div class="form-group">
                <label for="question-count">Ch·ªçn s·ªë c√¢u h·ªèi:</label>
                <select id="question-count">
                    <!-- Options will be generated dynamically -->
                </select>
            </div>
            <button id="start-btn">B·∫Øt ƒë·∫ßu</button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="quiz-screen hidden">
            <h2 id="quiz-title" class="screen-title">...</h2>
            
            <div class="timer-container">
                <div id="timer-bar" class="timer-bar"></div>
            </div>

            <!-- HEADER INFO -->
            <div class="quiz-header-info">
                <div id="question-counter" class="quiz-info-left">C√¢u 1/10</div>
                <div id="streak" class="quiz-info-right">Chu·ªói ƒë√∫ng: 0</div>
            </div>
            
            <div class="question">Ch·ªçn ƒë√°p √°n ƒë√∫ng:</div>
            <div class="word-container">
                <div id="word" class="word"></div>
            </div>
            <div id="options" class="options"></div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="result-screen hidden">
            <h2 id="result-title" class="screen-title">...</h2>
            
            <!-- KHU V·ª∞C T·ªîNG H·ª¢P -->
            <div class="result-summary-container">
                
                <!-- √î 1: Bi·ªÉu ƒë·ªì & T√™n & Ng√†y -->
                <div class="chart-section">
                    <div id="result-name-new" class="result-name-new"></div>
                    <div class="chart-wrapper">
                        <div id="pie-chart" class="pie-chart"></div>
                        <div class="chart-text-overlay">
                            <span id="result-percentage-new" class="percentage-text">0%</span>
                            <span id="result-score-new" class="score-text">0/0</span>
                        </div>
                    </div>
                    <div id="result-date-new" class="date-text"></div>
                </div>

                <!-- √î 2: L∆∞·ªõi th·ªëng k√™ -->
                <div class="stats-grid-container">
                    <div class="stats-grid">
                        <div class="stat-item start">
                            <div class="stat-icon">üïí</div>
                            <div class="stat-label">B·∫Øt ƒë·∫ßu</div>
                            <div id="result-start-time-new" class="stat-value"></div>
                        </div>
                        <div class="stat-item end">
                            <div class="stat-icon">üèÅ</div>
                            <div class="stat-label">K·∫øt th√∫c</div>
                            <div id="result-end-time-new" class="stat-value"></div>
                        </div>
                        <div class="stat-item streak">
                            <div class="stat-icon">üî•</div>
                            <div class="stat-label">Chu·ªói ƒë√∫ng </div>
                            <div id="result-max-streak-new" class="stat-value"></div>
                        </div>
                        <div class="stat-item time">
                            <div class="stat-icon">‚è≥</div>
                            <div class="stat-label">Th·ªùi gian</div>
                            <div id="result-time-new" class="stat-value"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- KHU V·ª∞C CHI TI·∫æT -->
            <div class="details-section">
                <div class="result-item">
                    <h3 class="section-title">C√°c c√¢u b·∫°n l√†m sai:</h3>
                    <div id="wrong-questions" class="wrong-questions-list"></div>
                </div>
                
                <div class="result-item">
                    <h3 class="section-title">Danh s√°ch b√†i l√†m:</h3>
                    <div style="overflow-x: auto;">
                        <table id="answer-history" class="answer-history">
                            <thead>
                                <tr>
                                    <th>STT</th>
                                    <th>C√¢u h·ªèi</th>
                                    <th>ƒê√°p √°n ƒë√£ ch·ªçn</th>
                                    <th>T·∫•t c·∫£ ƒë√°p √°n</th>
                                </tr>
                            </thead>
                            <tbody id="answer-history-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <button id="restart-btn">L√†m l·∫°i</button>
            <button id="new-game-btn">Ch∆°i m·ªõi</button>
            <button id="contact-btn" class="contact-btn">LI√äN H·ªÜ</button>
        </div>

        <!-- Contact Screen -->
        <div id="contact-screen" class="contact-screen hidden">
            <h2 class="screen-title">TH√îNG TIN LI√äN H·ªÜ</h2>
            
            <div class="contact-info">
                <h3>1. Teacher Minho</h3>
                <p>* Gi√°o vi√™n ti·∫øng Anh c·∫•p 2,3 v√† √¥n luy·ªán ƒë·∫°i h·ªçc theo chu·∫©n IELTS, PTE</p>
                <p>* Zalo: 0933.634.766</p>
                <p>* Facebook: minho.letrong37</p>
                <p>* Tiktok: minhoedutech</p>
            </div>
            
            <div class="contact-info">
                <h3>2. Th·∫ßy H√πng</h3>
                <p>* Gi√°o vi√™n d·∫°y k√®m to√°n, ti·∫øng Anh</p>
                <p>* Zalo: 0967.095.025</p>
                <p>* Facebook: leduyhung.vietnam</p>
                <p>* Tiktok: leduyhungtiktok</p>
                <p>* Youtube: byleduyhung</p>
            </div>
            
            <button id="back-btn" class="back-btn">QUAY L·∫†I</button>
        </div>
    </div>

    <script>
        // Question data for all units (GI·ªÆ NGUY√äN)
        const allQuestions = {
            "UNIT 1": [
                { id: 1, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "bak<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "agre<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "underlin<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "smil<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 2, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "celebrat<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "appli<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "worri<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "solv<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 3, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "compet<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "arriv<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "wav<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "studi<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 4, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "complet<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "bath<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "welcom<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "tidi<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 5, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "congratulat<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "becom<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "go<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "tri<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 6, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "contribut<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "behav<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "agre<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "underlin<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 7, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "creat<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "believ<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "appli<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "worri<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 8, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "decorat<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "car<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "arriv<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "wav<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 9, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "dislik<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "carri<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "bath<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "welcom<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 10, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "donat<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "carv<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "becom<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "go<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 11, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "excit<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "circl<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "behav<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "agre<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 12, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "hat<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "com<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "believ<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "appli<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 13, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "hop<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "compar<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "car<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "arriv<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 14, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "illustrat<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "cri<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "carri<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "bath<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 15, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "indicat<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "cycl<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "carv<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "becom<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 16, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "invit<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "decid<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "circl<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "behav<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 17, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "lik<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "declin<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "com<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "believ<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 18, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "mak<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "describ<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "compar<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "car<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 19, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "pollut<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "divid<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "cycl<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "carv<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 20, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "strik<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "divid<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "cycl<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "carv<span style=\"text-decoration: underline; color: red;\">es</span>" },
                { id: 21, word: "Choose the word whose <span style=\"text-decoration: underline; color: red;\">underlined</span> part differs from the other three in pronunciation.", correct: "tak<span style=\"text-decoration: underline; color: red;\">es</span>", wrong1: "do<span style=\"text-decoration: underline; color: red;\">es</span>", wrong2: "decid<span style=\"text-decoration: underline; color: red;\">es</span>", wrong3: "circl<span style=\"text-decoration: underline; color: red;\">es</span>" },
            ],
            "UNIT 2": [
                { id: 1, word: "UNIT 2: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "book<span class=\"underlined-red\">s</span>", wrong1: "cat<span class=\"underlined-red\">s</span>", wrong2: "dog<span class=\"underlined-red\">s</span>", wrong3: "house<span class=\"underlined-red\">s</span>" },
                { id: 2, word: "UNIT 2: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "watch<span class=\"underlined-red\">es</span>", wrong1: "box<span class=\"underlined-red\">es</span>", wrong2: "bus<span class=\"underlined-red\">es</span>", wrong3: "class<span class=\"underlined-red\">es</span>" },
                { id: 3, word: "UNIT 2: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "orange<span class=\"underlined-red\">s</span>", wrong1: "apple<span class=\"underlined-red\">s</span>", wrong2: "banana<span class=\"underlined-red\">s</span>", wrong3: "grape<span class=\"underlined-red\">s</span>" },
                { id: 4, word: "UNIT 2: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "kiss<span class=\"underlined-red\">es</span>", wrong1: "wish<span class=\"underlined-red\">es</span>", wrong2: "brush<span class=\"underlined-red\">es</span>", wrong3: "fox<span class=\"underlined-red\">es</span>" }
            ],
            "UNIT 3": [
                { id: 1, word: "UNIT 3: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "f<span class=\"underlined-red\">aa</span>ther", wrong1: "b<span class=\"underlined-red\">aa</span>th", wrong2: "p<span class=\"underlined-red\">aa</span>th", wrong3: "gr<span class=\"underlined-red\">aa</span>ss" },
                { id: 2, word: "UNIT 3: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "pl<span class=\"underlined-red\">aa</span>nt", wrong1: "c<span class=\"underlined-red\">aa</span>nt", wrong2: "sh<span class=\"underlined-red\">aa</span>nt", wrong3: "h<span class=\"underlined-red\">aa</span>nt" },
                { id: 3, word: "UNIT 3: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "l<span class=\"underlined-red\">aa</span>ugh", wrong1: "h<span class=\"underlined-red\">aa</span>lf", wrong2: "c<span class=\"underlined-red\">aa</span>lm", wrong3: "p<span class=\"underlined-red\">aa</span>lm" },
                { id: 4, word: "UNIT 3: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">aa</span>th", wrong1: "p<span class=\"underlined-red\">aa</span>th", wrong2: "m<span class=\"underlined-red\">aa</span>th", wrong3: "r<span class=\"underlined-red\">aa</span>th" }
            ],
            "UNIT 4": [
                { id: 1, word: "UNIT 4: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "c<span class=\"underlined-red\">ao</span>t", wrong1: "b<span class=\"underlined-red\">ao</span>t", wrong2: "g<span class=\"underlined-red\">ao</span>t", wrong3: "m<span class=\"underlined-red\">ao</span>t" },
                { id: 2, word: "UNIT 4: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "th<span class=\"underlined-red\">ao</span>ught", wrong1: "b<span class=\"underlined-red\">ao</span>ught", wrong2: "f<span class=\"underlined-red\">ao</span>ught", wrong3: "s<span class=\"underlined-red\">ao</span>ught" },
                { id: 3, word: "UNIT 4: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "n<span class=\"underlined-red\">ao</span>ughty", wrong1: "d<span class=\"underlined-red\">ao</span>ughty", wrong2: "h<span class=\"underlined-red\">ao</span>ughty", wrong3: "t<span class=\"underlined-red\">ao</span>ughty" },
                { id: 4, word: "UNIT 4: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "s<span class=\"underlined-red\">ao</span>ucer", wrong1: "c<span class=\"underlined-red\">ao</span>ucer", wrong2: "la<span class=\"underlined-red\">ao</span>cer", wrong3: "fa<span class=\"underlined-red\">ao</span>cer" }
            ],
            "UNIT 5": [
                { id: 1, word: "UNIT 5: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">ba</span>t", wrong1: "c<span class=\"underlined-red\">ba</span>t", wrong2: "f<span class=\"underlined-red\">ba</span>t", wrong3: "h<span class=\"underlined-red\">ba</span>t" },
                { id: 2, word: "UNIT 5: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "r<span class=\"underlined-red\">ba</span>t", wrong1: "m<span class=\"underlined-red\">ba</span>t", wrong2: "p<span class=\"underlined-red\">ba</span>t", wrong3: "s<span class=\"underlined-red\">ba</span>t" },
                { id: 3, word: "UNIT 5: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "l<span class=\"underlined-red\">ba</span>b", wrong1: "c<span class=\"underlined-red\">ba</span>b", wrong2: "d<span class=\"underlined-red\">ba</span>b", wrong3: "g<span class=\"underlined-red\">ba</span>b" },
                { id: 4, word: "UNIT 5: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "f<span class=\"underlined-red\">ba</span>b", wrong1: "j<span class=\"underlined-red\">ba</span>b", wrong2: "n<span class=\"underlined-red\">ba</span>b", wrong3: "r<span class=\"underlined-red\">ba</span>b" }
            ],
            "UNIT 6": [
                { id: 1, word: "UNIT 6: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "p<span class=\"underlined-red\">ai</span>n", wrong1: "r<span class=\"underlined-red\">ai</span>n", wrong2: "g<span class=\"underlined-red\">ai</span>n", wrong3: "m<span class=\"underlined-red\">ai</span>n" },
                { id: 2, word: "UNIT 6: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "s<span class=\"underlined-red\">ai</span>l", wrong1: "f<span class=\"underlined-red\">ai</span>l", wrong2: "t<span class=\"underlined-red\">ai</span>l", wrong3: "n<span class=\"underlined-red\">ai</span>l" },
                { id: 3, word: "UNIT 6: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "w<span class=\"underlined-red\">ai</span>t", wrong1: "h<span class=\"underlined-red\">ai</span>t", wrong2: "g<span class=\"underlined-red\">ai</span>t", wrong3: "f<span class=\"underlined-red\">ai</span>t" },
                { id: 4, word: "UNIT 6: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">ai</span>t", wrong1: "w<span class=\"underlined-red\">ai</span>t", wrong2: "h<span class=\"underlined-red\">ai</span>t", wrong3: "tr<span class=\"underlined-red\">ai</span>t" }
            ],
            "UNIT 7": [
                { id: 1, word: "UNIT 7: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "f<span class=\"underlined-red\">ac</span>t", wrong1: "p<span class=\"underlined-red\">ac</span>t", wrong2: "t<span class=\"underlined-red\">ac</span>t", wrong3: "r<span class=\"underlined-red\">ac</span>t" },
                { id: 2, word: "UNIT 7: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "p<span class=\"underlined-red\">ac</span>k", wrong1: "s<span class=\"underlined-red\">ac</span>k", wrong2: "l<span class=\"underlined-red\">ac</span>k", wrong3: "b<span class=\"underlined-red\">ac</span>k" },
                { id: 3, word: "UNIT 7: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "bl<span class=\"underlined-red\">ac</span>k", wrong1: "cl<span class=\"underlined-red\">ac</span>k", wrong2: "sl<span class=\"underlined-red\">ac</span>k", wrong3: "cr<span class=\"underlined-red\">ac</span>k" },
                { id: 4, word: "UNIT 7: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "att<span class=\"underlined-red\">ac</span>k", wrong1: "r<span class=\"underlined-red\">ac</span>k", wrong2: "s<span class=\"underlined-red\">ac</span>k", wrong3: "p<span class=\"underlined-red\">ac</span>k" }
            ],
            "UNIT 8": [
                { id: 1, word: "UNIT 8: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "t<span class=\"underlined-red\">ta</span>b", wrong1: "c<span class=\"underlined-red\">ta</span>b", wrong2: "d<span class=\"underlined-red\">ta</span>b", wrong3: "g<span class=\"underlined-red\">ta</span>b" },
                { id: 2, word: "UNIT 8: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "s<span class=\"underlined-red\">ta</span>b", wrong1: "l<span class=\"underlined-red\">ta</span>b", wrong2: "n<span class=\"underlined-red\">ta</span>b", wrong3: "r<span class=\"underlined-red\">ta</span>b" },
                { id: 3, word: "UNIT 8: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "gr<span class=\"underlined-red\">ta</span>b", wrong1: "cr<span class=\"underlined-red\">ta</span>b", wrong2: "sl<span class=\"underlined-red\">ta</span>b", wrong3: "st<span class=\"underlined-red\">ta</span>b" },
                { id: 4, word: "UNIT 8: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "t<span class=\"underlined-red\">ta</span>p", wrong1: "c<span class=\"underlined-red\">ta</span>p", wrong2: "l<span class=\"underlined-red\">ta</span>p", wrong3: "m<span class=\"underlined-red\">ta</span>p" }
            ],
            "UNIT 9": [
                { id: 1, word: "UNIT 9: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">ak</span>e", wrong1: "c<span class=\"underlined-red\">ak</span>e", wrong2: "m<span class=\"underlined-red\">ak</span>e", wrong3: "t<span class=\"underlined-red\">ak</span>e" },
                { id: 2, word: "UNIT 9: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "l<span class=\"underlined-red\">ak</span>e", wrong1: "r<span class=\"underlined-red\">ak</span>e", wrong2: "s<span class=\"underlined-red\">ak</span>e", wrong3: "w<span class=\"underlined-red\">ak</span>e" },
                { id: 3, word: "UNIT 9: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "sn<span class=\"underlined-red\">ak</span>e", wrong1: "fl<span class=\"underlined-red\">ak</span>e", wrong2: "br<span class=\"underlined-red\">ak</span>e", wrong3: "qu<span class=\"underlined-red\">ak</span>e" },
                { id: 4, word: "UNIT 9: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "sh<span class=\"underlined-red\">ak</span>e", wrong1: "b<span class=\"underlined-red\">ak</span>e", wrong2: "c<span class=\"underlined-red\">ak</span>e", wrong3: "f<span class=\"underlined-red\">ak</span>e" }
            ],
            "UNIT 10": [
                { id: 1, word: "UNIT 10: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "d<span class=\"underlined-red\">db</span>", wrong1: "b<span class=\"underlined-red\">db</span>", wrong2: "c<span class=\"underlined-red\">db</span>", wrong3: "g<span class=\"underlined-red\">db</span>" },
                { id: 2, word: "UNIT 10: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "r<span class=\"underlined-red\">db</span>", wrong1: "m<span class=\"underlined-red\">db</span>", wrong2: "n<span class=\"underlined-red\">db</span>", wrong3: "p<span class=\"underlined-red\">db</span>" },
                { id: 3, word: "UNIT 10: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "st<span class=\"underlined-red\">db</span>", wrong1: "bl<span class=\"underlined-red\">db</span>", wrong2: "cl<span class=\"underlined-red\">db</span>", wrong3: "fl<span class=\"underlined-red\">db</span>" },
                { id: 4, word: "UNIT 10: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "tr<span class=\"underlined-red\">db</span>", wrong1: "dr<span class=\"underlined-red\">db</span>", wrong2: "gr<span class=\"underlined-red\">db</span>", wrong3: "pr<span class=\"underlined-red\">db</span>" }
            ],
            "UNIT 11": [
                { id: 1, word: "UNIT 11: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "p<span class=\"underlined-red\">u</span>t", wrong1: "f<span class=\"underlined-red\">oo</span>d", wrong2: "m<span class=\"underlined-red\">oo</span>n", wrong3: "bl<span class=\"underlined-red\">ue</span>" },
                { id: 2, word: "UNIT 11: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">u</span>ll", wrong1: "sh<span class=\"underlined-red\">oo</span>t", wrong2: "t<span class=\"underlined-red\">oo</span>l", wrong3: "n<span class=\"underlined-red\">oo</span>n" },
                { id: 3, word: "UNIT 11: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "f<span class=\"underlined-red\">u</span>ll", wrong1: "r<span class=\"underlined-red\">u</span>le", wrong2: "tr<span class=\"underlined-red\">ue</span>", wrong3: "j<span class=\"underlined-red\">u</span>ne" },
                { id: 4, word: "UNIT 11: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">oo</span>k", wrong1: "p<span class=\"underlined-red\">u</span>t", wrong2: "p<span class=\"underlined-red\">u</span>sh", wrong3: "p<span class=\"underlined-red\">u</span>ll" }
            ],
            "UNIT 12": [
                { id: 1, word: "UNIT 12: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">i</span>t", wrong1: "s<span class=\"underlined-red\">ee</span>", wrong2: "m<span class=\"underlined-red\">ee</span>t", wrong3: "f<span class=\"underlined-red\">ee</span>t" },
                { id: 2, word: "UNIT 12: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "h<span class=\"underlined-red\">i</span>t", wrong1: "sl<span class=\"underlined-red\">ee</span>p", wrong2: "k<span class=\"underlined-red\">ee</span>p", wrong3: "d<span class=\"underlined-red\">ee</span>p" },
                { id: 3, word: "UNIT 12: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "sh<span class=\"underlined-red\">i</span>p", wrong1: "gr<span class=\"underlined-red\">ee</span>n", wrong2: "thr<span class=\"underlined-red\">ee</span>", wrong3: "s<span class=\"underlined-red\">ee</span>n" },
                { id: 4, word: "UNIT 12: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">i</span>n", wrong1: "b<span class=\"underlined-red\">ea</span>t", wrong2: "r<span class=\"underlined-red\">ea</span>d", wrong3: "m<span class=\"underlined-red\">ea</span>n" }
            ],
            "UNIT 13": [
                { id: 1, word: "UNIT 13: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">e</span>d", wrong1: "c<span class=\"underlined-red\">a</span>t", wrong2: "h<span class=\"underlined-red\">a</span>t", wrong3: "m<span class=\"underlined-red\">a</span>p" },
                { id: 2, word: "UNIT 13: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "l<span class=\"underlined-red\">e</span>g", wrong1: "b<span class=\"underlined-red\">a</span>d", wrong2: "s<span class=\"underlined-red\">a</span>d", wrong3: "m<span class=\"underlined-red\">a</span>d" },
                { id: 3, word: "UNIT 13: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "r<span class=\"underlined-red\">e</span>d", wrong1: "b<span class=\"underlined-red\">a</span>g", wrong2: "t<span class=\"underlined-red\">a</span>g", wrong3: "h<span class=\"underlined-red\">a</span>g" },
                { id: 4, word: "UNIT 13: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "p<span class=\"underlined-red\">e</span>n", wrong1: "h<span class=\"underlined-red\">a</span>nd", wrong2: "m<span class=\"underlined-red\">a</span>n", wrong3: "s<span class=\"underlined-red\">a</span>n" }
            ],
            "UNIT 14": [
                { id: 1, word: "UNIT 14: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "h<span class=\"underlined-red\">o</span>t", wrong1: "c<span class=\"underlined-red\">augh</span>t", wrong2: "w<span class=\"underlined-red\">augh</span>t", wrong3: "th<span class=\"underlined-red\">augh</span>t" },
                { id: 2, word: "UNIT 14: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "l<span class=\"underlined-red\">o</span>t", wrong1: "dr<span class=\"underlined-red\">aw</span>", wrong2: "s<span class=\"underlined-red\">aw</span>", wrong3: "p<span class=\"underlined-red\">aw</span>" },
                { id: 3, word: "UNIT 14: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "c<span class=\"underlined-red\">o</span>p", wrong1: "f<span class=\"underlined-red\">augh</span>t", wrong2: "l<span class=\"underlined-red\">augh</span>t", wrong3: "br<span class=\"underlined-red\">augh</span>t" },
                { id: 4, word: "UNIT 14: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "d<span class=\"underlined-red\">o</span>g", wrong1: "c<span class=\"underlined-red\">all</span>", wrong2: "t<span class=\"underlined-red\">all</span>", wrong3: "sm<span class=\"underlined-red\">all</span>" }
            ],
            "UNIT 15": [
                { id: 1, word: "UNIT 15: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "c<span class=\"underlined-red\">u</span>p", wrong1: "f<span class=\"underlined-red\">a</span>ther", wrong2: "c<span class=\"underlined-red\">a</span>r", wrong3: "st<span class=\"underlined-red\">a</span>r" },
                { id: 2, word: "UNIT 15: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "b<span class=\"underlined-red\">u</span>s", wrong1: "p<span class=\"underlined-red\">a</span>th", wrong2: "b<span class=\"underlined-red\">a</span>th", wrong3: "gr<span class=\"underlined-red\">a</span>ss" },
                { id: 3, word: "UNIT 15: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "m<span class=\"underlined-red\">u</span>ch", wrong1: "f<span class=\"underlined-red\">a</span>st", wrong2: "l<span class=\"underlined-red\">a</span>st", wrong3: "p<span class=\"underlined-red\">a</span>st" },
                { id: 4, word: "UNIT 15: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "l<span class=\"underlined-red\">u</span>ck", wrong1: "d<span class=\"underlined-red\">a</span>nce", wrong2: "ch<span class=\"underlined-red\">a</span>nce", wrong3: "gl<span class=\"underlined-red\">a</span>nce" }
            ],
            "UNIT 16": [
                { id: 1, word: "UNIT 16: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "g<span class=\"underlined-red\">o</span>", wrong1: "l<span class=\"underlined-red\">i</span>ke", wrong2: "b<span class=\"underlined-red\">i</span>ke", wrong3: "s<span class=\"underlined-red\">i</span>de" },
                { id: 2, word: "UNIT 16: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "n<span class=\"underlined-red\">o</span>", wrong1: "f<span class=\"underlined-red\">i</span>ne", wrong2: "m<span class=\"underlined-red\">i</span>ne", wrong3: "n<span class=\"underlined-red\">i</span>ne" },
                { id: 3, word: "UNIT 16: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "s<span class=\"underlined-red\">o</span>", wrong1: "t<span class=\"underlined-red\">i</span>me", wrong2: "cr<span class=\"underlined-red\">i</span>me", wrong3: "pr<span class=\"underlined-red\">i</span>me" },
                { id: 4, word: "UNIT 16: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "h<span class=\"underlined-red\">o</span>me", wrong1: "dr<span class=\"underlined-red\">i</span>ve", wrong2: "l<span class=\"underlined-red\">i</span>ve", wrong3: "str<span class=\"underlined-red\">i</span>ve" }
            ],
            "UNIT 17": [
                { id: 1, word: "UNIT 17: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "h<span class=\"underlined-red\">ere</span>", wrong1: "f<span class=\"underlined-red\">ear</span>", wrong2: "n<span class=\"underlined-red\">ear</span>", wrong3: "cl<span class=\"underlined-red\">ear</span>" },
                { id: 2, word: "UNIT 17: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "th<span class=\"underlined-red\">ere</span>", wrong1: "b<span class=\"underlined-red\">eer</span>", wrong2: "d<span class=\"underlined-red\">eer</span>", wrong3: "p<span class=\"underlined-red\">eer</span>" },
                { id: 3, word: "UNIT 17: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "c<span class=\"underlined-red\">are</span>", wrong1: "r<span class=\"underlined-red\">ear</span>", wrong2: "t<span class=\"underlined-red\">ear</span>", wrong3: "y<span class=\"underlined-red\">ear</span>" },
                { id: 4, word: "UNIT 17: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "sh<span class=\"underlined-red\">are</span>", wrong1: "w<span class=\"underlined-red\">eer</span>", wrong2: "ch<span class=\"underlined-red\">eer</span>", wrong3: "volunt<span class=\"underlined-red\">eer</span>" }
            ],
            "UNIT 18": [
                { id: 1, word: "UNIT 18: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "c<span class=\"underlined-red\">ow</span>", wrong1: "b<span class=\"underlined-red\">oy</span>", wrong2: "t<span class=\"underlined-red\">oy</span>", wrong3: "j<span class=\"underlined-red\">oy</span>" },
                { id: 2, word: "UNIT 18: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "h<span class=\"underlined-red\">ow</span>", wrong1: "c<span class=\"underlined-red\">oi</span>n", wrong2: "j<span class=\"underlined-red\">oi</span>n", wrong3: "v<span class=\"underlined-red\">oi</span>ce" },
                { id: 3, word: "UNIT 18: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "n<span class=\"underlined-red\">ow</span>", wrong1: "ch<span class=\"underlined-red\">oi</span>ce", wrong2: "n<span class=\"underlined-red\">oi</span>se", wrong3: "p<span class=\"underlined-red\">oi</span>nt" },
                { id: 4, word: "UNIT 18: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "t<span class=\"underlined-red\">ow</span>n", wrong1: "enj<span class=\"underlined-red\">oy</span>", wrong2: "ann<span class=\"underlined-red\">oy</span>", wrong3: "empl<span class=\"underlined-red\">oy</span>" }
            ],
            "UNIT 19": [
                { id: 1, word: "UNIT 19: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "<span class=\"underlined-red\">th</span>ink", wrong1: "<span class=\"underlined-red\">th</span>is", wrong2: "<span class=\"underlined-red\">th</span>at", wrong3: "<span class=\"underlined-red\">th</span>ese" },
                { id: 2, word: "UNIT 19: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "<span class=\"underlined-red\">th</span>ree", wrong1: "<span class=\"underlined-red\">th</span>ere", wrong2: "<span class=\"underlined-red\">th</span>ey", wrong3: "<span class=\"underlined-red\">th</span>e" },
                { id: 3, word: "UNIT 19: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "<span class=\"underlined-red\">th</span>row", wrong1: "<span class=\"underlined-red\">th</span>em", wrong2: "<span class=\"underlined-red\">th</span>ose", wrong3: "<span class=\"underlined-red\">th</span>ough" },
                { id: 4, word: "UNIT 19: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "<span class=\"underlined-red\">th</span>in", wrong1: "<span class=\"underlined-red\">th</span>en", wrong2: "<span class=\"underlined-red\">th</span>an", wrong3: "<span class=\"underlined-red\">th</span>eir" }
            ],
            "UNIT 20": [
                { id: 1, word: "UNIT 20: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "<span class=\"underlined-red\">sh</span>e", wrong1: "<span class=\"underlined-red\">ch</span>eap", wrong2: "<span class=\"underlined-red\">ch</span>eck", wrong3: "<span class=\"underlined-red\">ch</span>ess" },
                { id: 2, word: "UNIT 20: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "<span class=\"underlined-red\">sh</span>ip", wrong1: "<span class=\"underlined-red\">ch</span>ip", wrong2: "<span class=\"underlined-red\">ch</span>in", wrong3: "<span class=\"underlined-red\">ch</span>ild" },
                { id: 3, word: "UNIT 20: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "<span class=\"underlined-red\">sh</span>op", wrong1: "<span class=\"underlined-red\">ch</span>op", wrong2: "<span class=\"underlined-red\">ch</span>oice", wrong3: "<span class=\"underlined-red\">ch</span>oke" },
                { id: 4, word: "UNIT 20: Choose the word whose <span class=\"underlined-red\">underlined</span> part differs from the other three in pronunciation.", correct: "<span class=\"underlined-red\">sh</span>ort", wrong1: "<span class=\"underlined-red\">ch</span>air", wrong2: "<span class=\"underlined-red\">ch</span>arge", wrong3: "<span class=\"underlined-red\">ch</span>ange" }
            ]
        };

        // Global variables
        let currentQuestionIndex = 0;
        let score = 0;
        let streak = 0;
        let maxStreak = 0;
        let timer;
        let timeLeft;
        let totalTime = 0;
        let questionTimes = [];
        let selectedQuestions = [];
        let username = "";
        let wrongQuestions = [];
        let answerHistory = [];
        let selectedOptions = [];
        let startTime;
        let endTime;
        let currentWord = "";
        let questionCount = 20;
        let selectedUnitKey = "UNIT 1"; // D√πng ƒë·ªÉ l·∫•y d·ªØ li·ªáu t·ª´ Object
        let selectedUnitName = ""; // D√πng ƒë·ªÉ hi·ªÉn th·ªã l√™n giao di·ªán

        // DOM elements
        const loginScreen = document.getElementById('login-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const contactScreen = document.getElementById('contact-screen');
        const startBtn = document.getElementById('start-btn');
        const usernameInput = document.getElementById('username');
        const unitSelect = document.getElementById('unit-select');
        const questionCountSelect = document.getElementById('question-count');
        const wordElement = document.getElementById('word');
        const optionsElement = document.getElementById('options');
        const timerBar = document.getElementById('timer-bar');
        const streakElement = document.getElementById('streak');
        const questionCounterElement = document.getElementById('question-counter');
        const restartBtn = document.getElementById('restart-btn');
        const newGameBtn = document.getElementById('new-game-btn');
        const contactBtn = document.getElementById('contact-btn');
        const backBtn = document.getElementById('back-btn');
        const wrongQuestionsElement = document.getElementById('wrong-questions');
        const answerHistoryBody = document.getElementById('answer-history-body');
        const quizTitle = document.getElementById('quiz-title');
        const resultTitle = document.getElementById('result-title');

        // Initialize the question count options based on the number of questions available
        function initQuestionCountOptions() {
            const unitQuestions = allQuestions[selectedUnitKey];
            const totalQuestions = unitQuestions.length;
            questionCountSelect.innerHTML = ''; // Clear existing options
            
            // Always add 10, 20, 30 options
            addOption(10, '10 c√¢u');
            addOption(20, '20 c√¢u');
            addOption(30, '30 c√¢u');
            
            // Add 40 option if there are at least 40 questions
            if (totalQuestions >= 40) {
                addOption(40, '40 c√¢u');
            }
            
            // Add 50 option if there are at least 50 questions
            if (totalQuestions >= 50) {
                addOption(50, '50 c√¢u');
            }
            
            // Always add "max" option (all questions)
            addOption(totalQuestions, `T·∫•t c·∫£ (${totalQuestions} c√¢u)`);
            // Set default selection to 20 or max if less than 20
            questionCountSelect.value = totalQuestions >= 20 ? "20" : totalQuestions.toString();
        }
        
        // Helper function to add an option to the select element
        function addOption(value, text) {
            const option = document.createElement('option');
            option.value = value;
            option.textContent = text;
            questionCountSelect.appendChild(option);
        }

        // Event listeners
        startBtn.addEventListener('click', startGame);
        restartBtn.addEventListener('click', restartGame);
        newGameBtn.addEventListener('click', newGame);
        contactBtn.addEventListener('click', showContact);
        backBtn.addEventListener('click', backToResult);
        unitSelect.addEventListener('change', updateSelectedUnit);

        // Update selected unit
        function updateSelectedUnit() {
            selectedUnitKey = unitSelect.value;
            selectedUnitName = unitSelect.options[unitSelect.selectedIndex].text;
            initQuestionCountOptions();
        }

        // Initialize the question count options when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            updateSelectedUnit(); // Kh·ªüi t·∫°o c·∫£ key v√† name
        });

        // Show contact screen
        function showContact() {
            resultScreen.classList.add('hidden');
            contactScreen.classList.remove('hidden');
        }

        // Back to result screen
        function backToResult() {
            contactScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
        }

        // Start the game
        function startGame() {
            username = usernameInput.value.trim();
            if (username === "") {
                alert("Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n!");
                return;
            }
            questionCount = parseInt(questionCountSelect.value);
            
            // L·∫•y gi√° tr·ªã t·ª´ dropdown
            selectedUnitKey = unitSelect.value; // V√≠ d·ª•: "UNIT 1"
            selectedUnitName = unitSelect.options[unitSelect.selectedIndex].text; // V√≠ d·ª•: "UNIT 1: E6789..."
            
            // Get the questions for the selected unit
            const unitQuestions = allQuestions[selectedUnitKey];
            
            // Check if we have enough questions
            if (unitQuestions.length < questionCount) {
                alert(`Kh√¥ng ƒë·ªß c√¢u h·ªèi trong ${selectedUnitName}. Ch·ªâ c√≥ ${unitQuestions.length} c√¢u h·ªèi.`);
                return;
            }
            
            // Select random questions
            selectedQuestions = getRandomQuestions(unitQuestions, questionCount);
            
            // Update titles v·ªõi T√äN ƒê·∫¶Y ƒê·ª¶ c·ªßa Unit
            quizTitle.textContent = selectedUnitName;
            resultTitle.textContent = selectedUnitName;
            
            // Reset game state
            currentQuestionIndex = 0;
            score = 0;
            streak = 0;
            maxStreak = 0;
            totalTime = 0;
            questionTimes = [];
            wrongQuestions = [];
            answerHistory = [];
            selectedOptions = [];
            
            // Hide login screen and show quiz screen
            loginScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            
            // Record start time
            startTime = new Date();
            
            // Display first question
            displayQuestion();
        }

        // Get random questions from the pool
        function getRandomQuestions(questions, count) {
            const shuffled = [...questions].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        // Display current question
        function displayQuestion() {
            const currentQuestion = selectedQuestions[currentQuestionIndex];
            currentWord = currentQuestion.word;
            
            // Update question counter
            questionCounterElement.textContent = `C√¢u ${currentQuestionIndex + 1}/${selectedQuestions.length}`;
            
            // Update streak display
            streakElement.textContent = `Chu·ªói ƒë√∫ng: ${streak}`;
            
            // Display the word
            wordElement.innerHTML = currentWord;
            
            // Create options
            optionsElement.innerHTML = '';
            const options = [
                { text: currentQuestion.correct, isCorrect: true },
                { text: currentQuestion.wrong1, isCorrect: false },
                { text: currentQuestion.wrong2, isCorrect: false },
                { text: currentQuestion.wrong3, isCorrect: false }
            ];
            
            // Shuffle options
            const shuffledOptions = options.sort(() => 0.5 - Math.random());
            
            // Add options to the DOM
            shuffledOptions.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `${String.fromCharCode(65 + index)}. <span class="option-text">${option.text}</span>`;
                optionElement.dataset.isCorrect = option.isCorrect;
                optionElement.addEventListener('click', () => selectOption(optionElement, option.isCorrect));
                optionsElement.appendChild(optionElement);
            });
            
            // Start timer
            startTimer();
        }

        // Start timer for current question
        function startTimer() {
            timeLeft = 15;
            const totalTimeConst = 15; // Th·ªùi gian t·ªïng c·ªông cho m·ªói c√¢u h·ªèi
            
            timerBar.style.width = '100%';
            
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft -= 0.1; // Gi·∫£m 0.1 gi√¢y m·ªói l·∫ßn
                const percentage = (timeLeft / totalTimeConst) * 100;
                timerBar.style.width = `${percentage}%`;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    handleTimeout();
                }
            }, 100); // C·∫≠p nh·∫≠t m·ªói 100ms
        }

        // Handle timeout
        function handleTimeout() {
            // Record time taken for this question (15 seconds when timeout)
            questionTimes.push(15);
            totalTime += 15;
            
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                if (option.dataset.isCorrect === 'true') {
                    option.classList.add('correct');
                }
            });
            
            // Record wrong answer
            wrongQuestions.push(selectedQuestions[currentQuestionIndex].id);
            answerHistory.push({
                question: currentWord,
                selected: "H·∫øt gi·ªù",
                correct: selectedQuestions[currentQuestionIndex].correct,
                isCorrect: false, 
                allOptions: [
                    selectedQuestions[currentQuestionIndex].correct,
                    selectedQuestions[currentQuestionIndex].wrong1,
                    selectedQuestions[currentQuestionIndex].wrong2,
                    selectedQuestions[currentQuestionIndex].wrong3
                ]
            });
            
            // Reset streak
            streak = 0;
            streakElement.textContent = `Chu·ªói ƒë√∫ng: ${streak}`;
            
            // Wait a moment and then move to next question
            setTimeout(nextQuestion, 1000);
        }

        // Select an option
        function selectOption(optionElement, isCorrect) {
            clearInterval(timer);
            
            // Record time taken for this question
            const timeTaken = 15 - timeLeft;
            questionTimes.push(timeTaken);
            totalTime += timeTaken;
            
            // Disable all options
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Show correct/incorrect
            if (isCorrect) {
                optionElement.classList.add('correct');
                score++;
                streak++;
                if (streak > maxStreak) {
                    maxStreak = streak;
                }
                streakElement.textContent = `Chu·ªói ƒë√∫ng: ${streak}`;
                
                answerHistory.push({
                    question: currentWord,
                    selected: optionElement.textContent,
                    correct: selectedQuestions[currentQuestionIndex].correct,
                    isCorrect: true, 
                    allOptions: [
                        selectedQuestions[currentQuestionIndex].correct,
                        selectedQuestions[currentQuestionIndex].wrong1,
                        selectedQuestions[currentQuestionIndex].wrong2,
                        selectedQuestions[currentQuestionIndex].wrong3
                    ]
                });
            } else {
                optionElement.classList.add('incorrect');
                
                // Show correct answer
                options.forEach(option => {
                    if (option.dataset.isCorrect === 'true') {
                        option.classList.add('correct');
                    }
                });
                
                // Record wrong answer
                wrongQuestions.push(selectedQuestions[currentQuestionIndex].id);
                
                answerHistory.push({
                    question: currentWord,
                    selected: optionElement.textContent,
                    correct: selectedQuestions[currentQuestionIndex].correct,
                    isCorrect: false, 
                    allOptions: [
                        selectedQuestions[currentQuestionIndex].correct,
                        selectedQuestions[currentQuestionIndex].wrong1,
                        selectedQuestions[currentQuestionIndex].wrong2,
                        selectedQuestions[currentQuestionIndex].wrong3
                    ]
                });
                
                // Reset streak
                streak = 0;
                streakElement.textContent = `Chu·ªói ƒë√∫ng: ${streak}`;
            }
            
            // Wait a moment and then move to next question
            setTimeout(nextQuestion, 1000);
        }

        // Move to next question
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < selectedQuestions.length) {
                displayQuestion();
            } else {
                endGame();
            }
        }

        // End the game
        function endGame() {
            // Record end time
            endTime = new Date();
            
            // Hide quiz screen and show result screen
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            // --- C·∫¨P NH·∫¨T GIAO DI·ªÜN M·ªöI ---
            
            // 1. T√™n
            document.getElementById('result-name-new').textContent = username;
            
            // 2. T√≠nh to√°n ph·∫ßn trƒÉm v√† m√†u s·∫Øc
            const percentage = Math.round((score / selectedQuestions.length) * 100);
            const pieChart = document.getElementById('pie-chart');
            
            let chartColor;
            // Quy t·∫Øc m√†u s·∫Øc
            if (percentage <= 49) {
                chartColor = '#f5222d'; // ƒê·ªè
            } else if (percentage <= 69) {
                chartColor = '#faad14'; // V√†ng
            } else if (percentage <= 79) {
                chartColor = '#52c41a'; // Xanh l√°
            } else if (percentage <= 89) {
                chartColor = '#13c2c2'; // Xanh ng·ªçc
            } else if (percentage <= 99) {
                chartColor = '#1890ff'; // Xanh blue
            } else {
                chartColor = '#722ed1'; // T√≠m
            }
            
            // C·∫≠p nh·∫≠t CSS gradient cho bi·ªÉu ƒë·ªì
            pieChart.style.background = `conic-gradient(${chartColor} ${percentage}%, #f0f0f0 ${percentage}% 100%)`;
            
            // C·∫≠p nh·∫≠t m√†u text ph·∫ßn trƒÉm
            document.getElementById('result-percentage-new').textContent = percentage + "%";
            document.getElementById('result-percentage-new').style.color = chartColor;
            
            // C·∫≠p nh·∫≠t s·ªë c√¢u ƒë√∫ng/t·ªïng
            document.getElementById('result-score-new').textContent = `${score}/${selectedQuestions.length}`;
            
            // 3. Ng√†y th√°ng nƒÉm (ch·ªâ l·∫•y ph·∫ßn ng√†y th√°ng t·ª´ formatDateTime)
            const dateStr = formatDateTime(startTime).split(' ')[0]; // L·∫•y "dd/mm/yyyy"
            document.getElementById('result-date-new').textContent = dateStr;
            
            // 4. L∆∞·ªõi th√¥ng tin
            document.getElementById('result-start-time-new').textContent = formatTimeOnly(startTime);
            document.getElementById('result-end-time-new').textContent = formatTimeOnly(endTime);
            document.getElementById('result-max-streak-new').textContent = maxStreak;
            document.getElementById('result-time-new').textContent = totalTime.toFixed(1) + 's';
            
            // --- C√ÅC PH·∫¶N KH√ÅC (GI·ªÆ NGUY√äN) ---
            
            // Display wrong questions
            wrongQuestionsElement.innerHTML = '';
            if (wrongQuestions.length === 0) {
                wrongQuestionsElement.innerHTML = '<li>Kh√¥ng c√≥ c√¢u n√†o l√†m sai</li>';
            } else {
                wrongQuestions.forEach(questionId => {
                    const li = document.createElement('li');
                    li.textContent = `C√¢u ${questionId}`;
                    wrongQuestionsElement.appendChild(li);
                });
            }
            
            // Display answer history with color coding
            answerHistoryBody.innerHTML = '';
            answerHistory.forEach((history, index) => {
                const row = document.createElement('tr');
                
                const numberCell = document.createElement('td');
                numberCell.textContent = index + 1;
                row.appendChild(numberCell);
                
                const questionCell = document.createElement('td');
                questionCell.innerHTML = history.question;
                row.appendChild(questionCell);
                
                const selectedCell = document.createElement('td');
                selectedCell.innerHTML = history.selected;
                
                if (history.selected === "H·∫øt gi·ªù") {
                    selectedCell.className = "timeout-answer";
                } else if (history.isCorrect === true) {
                    selectedCell.className = "correct-answer";
                } else {
                    selectedCell.className = "incorrect-answer";
                }
                
                row.appendChild(selectedCell);
                
                const allOptionsCell = document.createElement('td');
                allOptionsCell.innerHTML = history.allOptions.map((option, i) => 
                    `${String.fromCharCode(65 + i)}. ${option}`
                ).join('<br>');
                row.appendChild(allOptionsCell);
                
                answerHistoryBody.appendChild(row);
            });
        }
        
        // Helper: Format th·ªùi gian ch·ªâ l·∫•y gi·ªù:ph√∫t:gi√¢y
        function formatTimeOnly(date) {
            const hours = date.getHours().toString().padStart(2, '0');
            const minutes = date.getMinutes().toString().padStart(2, '0');
            const seconds = date.getSeconds().toString().padStart(2, '0');
            return `${hours}:${minutes}:${seconds}`;
        }

        // Format date and time (Gi·ªØ nguy√™n cho b·∫£ng l·ªãch s·ª≠)
        function formatDateTime(date) {
            const day = date.getDate().toString().padStart(2, '0');
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const year = date.getFullYear();
            const hours = date.getHours().toString().padStart(2, '0');
            const minutes = date.getMinutes().toString().padStart(2, '0');
            const seconds = date.getSeconds().toString().padStart(2, '0');
            
            return `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;
        }

        // Restart the game with same settings
        function restartGame() {
            // Get new random questions different from the previous set
            const unitQuestions = allQuestions[selectedUnitKey];
            
            // Create a new set of random questions
            selectedQuestions = getRandomQuestions(unitQuestions, questionCount);
            
            // Reset game state
            currentQuestionIndex = 0;
            score = 0;
            streak = 0;
            maxStreak = 0;
            totalTime = 0;
            questionTimes = [];
            wrongQuestions = [];
            answerHistory = [];
            selectedOptions = [];
            
            // Hide result screen and show quiz screen
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            
            // Record start time
            startTime = new Date();
            
            // Display first question
            displayQuestion();
        }

        // Start a new game
        function newGame() {
            // Hide result screen and show login screen
            resultScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
        }
    </script>
</body>
</html>
